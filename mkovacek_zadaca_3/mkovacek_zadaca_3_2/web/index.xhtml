<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>mkovacek_zadaca_3_2</title>
        <h:outputStylesheet library="css" name="osnovna.css" />
    </h:head>
    <h:body>
        <h:link value="OdabirAdresa" outcome="odabirAdresa.xhtml" /><br/><br/>
        <h:form>
            <h:selectManyListbox value="#{odabirAdresa.odabranaAdresa}">
                <f:selectItems value="#{odabirAdresa.popisAdresa}" var="adresa" itemLabel="#{adresa.adresa}" itemValue="#{adresa.idadresa}"/>
            </h:selectManyListbox><br/><br/>
            <h:commandButton value="1. preuzmi sve meteo podatke (1 adresa)" action="#{odabirAdresa.preuzmiSveMeteoPodatke()}"/><br/>
            <h:commandButton value="2. preuzmi zadnje meteo podatke (2 adrese)" action="#{odabirAdresa.preuzmiZadnjeMeteoPodatke()}"/><br/>
            <h:commandButton value="3. preuzmi važeće meteo podatke (2 adrese)" action="#{odabirAdresa.preuzmiVazeceMeteoPodatke()}"/>
            <br/><br/>
        </h:form>

        <h:form>
            <h:outputLabel value="Važeći meterološki podaci: "/><br/>
            <ui:repeat  value="#{odabirAdresa.meteoPodaci2}" var="mp" >
                <h:panelGrid columns="2" >
                    <h:outputLabel value="Izlazak sunca: " rendered="#{odabirAdresa.prikaz}"/>
                    <h:outputText  value="#{mp.sunRise}" rendered="#{odabirAdresa.prikaz}"  />  
                    <h:outputLabel value="Zalazak sunca: " rendered="#{odabirAdresa.prikaz}"/>
                    <h:outputText  value="#{mp.sunSet}" rendered="#{odabirAdresa.prikaz}"  />  
                    <h:outputLabel value="Temperatura: " rendered="#{odabirAdresa.prikaz}"/>
                    <h:outputText  value="#{mp.temperatureValue}" rendered="#{odabirAdresa.prikaz}"  /> 
                    <h:outputLabel value="Naoblaka: " rendered="#{odabirAdresa.prikaz}"/>
                    <h:outputText  value="#{mp.cloudsName}" rendered="#{odabirAdresa.prikaz}"  />
                    <h:outputLabel value="Tlak zraka: " rendered="#{odabirAdresa.prikaz}"/>
                    <h:outputText  value="#{mp.pressureValue}" rendered="#{odabirAdresa.prikaz}"  />
                </h:panelGrid> 
                <hr/>
            </ui:repeat>
        </h:form>
        <br/>

        <h:dataTable value="#{odabirAdresa.meteoPodaci}" var="mp" class="tablica" 
                     headerClass="zaglavlje" rowClasses="neparni,parni">
            <h:column>
                <f:facet name="header">Izlazak sunca</f:facet>
                    #{mp.sunRise}
            </h:column>
            <h:column>
                <f:facet name="header">Zalazak sunca</f:facet>
                    #{mp.sunSet}
            </h:column>
            <h:column>
                <f:facet name="header">Temperatura</f:facet>
                    #{mp.temperatureValue}
            </h:column>
            <h:column>
                <f:facet name="header">Naoblaka</f:facet>
                    #{mp.cloudsName}
            </h:column>
            <h:column>
                <f:facet name="header">Tlak zraka</f:facet>
                    #{mp.pressureValue}
            </h:column>
        </h:dataTable>

    </h:body>
</html>

